# ============================================================================
# API Configuration
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8000
GRADIO_PORT=7860
API_WORKERS=1

# ============================================================================
# CORS Settings
# ============================================================================
CORS_ORIGINS=["http://localhost:7860", "http://localhost:3000"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# ============================================================================
# Storage Paths (relative to project root)
# ============================================================================
DATASETS_DIR=./datasets
MODELS_DIR=./models
EXPORTS_DIR=./exports
LOGS_DIR=./logs
TEMP_DIR=./temp

# ============================================================================
# Model Settings
# ============================================================================
DEFAULT_MODEL=unsloth/gemma-2b-bnb-4bit
ALTERNATIVE_MODELS=["unsloth/gemma-7b-bnb-4bit", "unsloth/gemma-2b-it-bnb-4bit"]
MAX_SEQ_LENGTH=2048
LOAD_IN_4BIT=true
LOAD_IN_8BIT=false

# ============================================================================
# Training Default Parameters
# ============================================================================
DEFAULT_LORA_R=16
DEFAULT_LORA_ALPHA=16
DEFAULT_LORA_DROPOUT=0.0
DEFAULT_EPOCHS=3
DEFAULT_BATCH_SIZE=2
DEFAULT_GRADIENT_ACCUMULATION_STEPS=4
DEFAULT_LEARNING_RATE=2e-4
DEFAULT_WARMUP_STEPS=5
DEFAULT_MAX_STEPS=-1
DEFAULT_WEIGHT_DECAY=0.01
DEFAULT_LR_SCHEDULER_TYPE=linear
DEFAULT_LOGGING_STEPS=10
DEFAULT_SAVE_STEPS=100
DEFAULT_EVAL_STEPS=50

# ============================================================================
# GPU & Memory Settings
# ============================================================================
CUDA_VISIBLE_DEVICES=0
MAX_MEMORY_GB=12
GRADIENT_CHECKPOINTING=true
FP16=false
BF16=true
OPTIM=adamw_8bit

# ============================================================================
# Dataset Settings
# ============================================================================
MAX_DATASET_SIZE_MB=500
SUPPORTED_FORMATS=["csv", "json", "txt", "jsonl"]
DEFAULT_TEXT_COLUMN=text
DEFAULT_LABEL_COLUMN=label
TRAIN_TEST_SPLIT=0.1
SHUFFLE_DATASET=true
SEED=42

# ============================================================================
# Export Settings
# ============================================================================
EXPORT_LORA_ONLY=true
EXPORT_MERGED_MODEL=false
EXPORT_QUANTIZED=false
PUSH_TO_HUB=false
HF_TOKEN=your_huggingface_token_here

# ============================================================================
# Logging & Monitoring
# ============================================================================
LOG_LEVEL=INFO
ENABLE_TENSORBOARD=true
ENABLE_WANDB=false
WANDB_PROJECT=gemma-finetuner
WANDB_ENTITY=your_wandb_username
WANDB_API_KEY=your_wandb_api_key_here

# ============================================================================
# Security
# ============================================================================
SECRET_KEY=your-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================================================
# Database (Optional for job persistence)
# ============================================================================
DATABASE_URL=sqlite+aiosqlite:///./gemma_finetuner.db
DB_ECHO=false

# ============================================================================
# Background Task Queue (Optional)
# ============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ============================================================================
# Rate Limiting
# ============================================================================
MAX_CONCURRENT_TRAININGS=1
MAX_UPLOAD_SIZE_MB=500
RATE_LIMIT_PER_MINUTE=60
